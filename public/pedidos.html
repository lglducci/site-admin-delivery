 <!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Pedidos Atuais</title>
    <style>
      body {
        font-family: sans-serif;
        background: #f3f3f3;
        padding: 20px;
      }
      h1 {
        color: #333;
      }
      .pedido {
        background: white;
        margin: 10px 0;
        padding: 10px;
        border-left: 5px solid #007bff;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }
      .numero {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h1>ðŸ“¦ Pedidos Atuais</h1>
    <div id="lista-pedidos">Carregando pedidos...</div>
 <script>
  fetch("https://webhook.lglducci.com.br/webhook/pedidos")
    .then((r) => r.json())
    .then((dados) => {
      const container = document.getElementById("lista-pedidos");
      container.innerHTML = "";

      if (!Array.isArray(dados) || dados.length === 0) {
        container.innerHTML = "Nenhum pedido encontrado.";
        return;
      }

      dados.forEach((pedido) => {
        const agora = new Date();
        const dataPedido = new Date(pedido.data);
        const minutosParado = (agora - dataPedido) / 60000;
        const isParado = minutosParado > 15;

        const div = document.createElement("div");
        div.className = "pedido";
        if (isParado) {
          div.style.background = "#ffe5e5"; // vermelho claro
          div.style.borderLeft = "5px solid red";
        }

        div.innerHTML = `
          <div class="numero">Pedido nÂº ${pedido.numero}</div>
          <div>Cliente: ${pedido.nomeCliente}</div>
          <div>Data: ${new Date(pedido.data).toLocaleString("pt-BR")}</div>
        `;
        container.appendChild(div);
      });
    })
    .catch((err) => {
      document.getElementById("lista-pedidos").innerText =
        "Erro ao carregar pedidos.";
      console.error(err);
    });
</script>

  </body>
</html>
